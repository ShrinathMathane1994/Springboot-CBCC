<mxfile host="app.diagrams.net">
  <diagram name="API Connector Master">
    <mxGraphModel dx="1200" dy="1200" grid="1" gridSize="10" guides="1">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- CONNECTOR TYPE -->
        <mxCell id="type" value="CONNECTOR TYPE SELECTION&#10;&#10;API Connector Type *&#10;(●) Payment Processing API Connector&#10;(○) Validation API Connector"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;"
          vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="460" height="120" as="geometry"/>
        </mxCell>

        <!-- BASIC DETAILS -->
        <mxCell id="basic" value="BASIC CONNECTOR DETAILS&#10;&#10;Connector Name *&#10;Environment *&#10;Status (Active / Disabled)"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;"
          vertex="1" parent="1">
          <mxGeometry x="40" y="180" width="460" height="120" as="geometry"/>
        </mxCell>

        <!-- API CONFIG -->
        <mxCell id="api" value="API CONFIGURATION&#10;&#10;API Type *&#10;API URL *&#10;Request Body (Optional)&#10;Auth Type *"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;"
          vertex="1" parent="1">
          <mxGeometry x="40" y="320" width="460" height="150" as="geometry"/>
        </mxCell>

        <!-- AUTH CONFIG -->
        <mxCell id="auth" value="AUTH CONFIGURATION (Conditional)&#10;&#10;OAuth2: Token URL, Client ID, Secret&#10;Bearer: Static Token&#10;Basic: Username / Password&#10;Custom: Method + Body"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;"
          vertex="1" parent="1">
          <mxGeometry x="520" y="320" width="460" height="150" as="geometry"/>
        </mxCell>

        <!-- AUTH RESPONSE EXTRACTION -->
        <mxCell id="authresp" value="AUTH RESPONSE EXTRACTION&#10;&#10;Extract From: Body / Header&#10;trustToken → $.access_token&#10;expiresIn → $.expires_in"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;"
          vertex="1" parent="1">
          <mxGeometry x="40" y="500" width="460" height="130" as="geometry"/>
        </mxCell>

        <!-- HEADER DEFINITION -->
        <mxCell id="header" value="REQUEST HEADER DEFINITION&#10;&#10;Header JSON Upload / Manual Entry&#10;X-HSBC-E2E-Trust-Token = ${trustToken}"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;"
          vertex="1" parent="1">
          <mxGeometry x="520" y="500" width="460" height="130" as="geometry"/>
        </mxCell>

        <!-- RESPONSE EXTRACTION -->
        <mxCell id="resp" value="BUSINESS RESPONSE EXTRACTION&#10;&#10;transactionId → $.transaction.id / x-request-id&#10;status → $.status"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;"
          vertex="1" parent="1">
          <mxGeometry x="40" y="660" width="460" height="120" as="geometry"/>
        </mxCell>

        <!-- ADVANCED -->
        <mxCell id="adv" value="ADVANCED SETTINGS&#10;&#10;Timeout / Retry / Interval"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;"
          vertex="1" parent="1">
          <mxGeometry x="520" y="660" width="460" height="120" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
